<!doctype html>
<html lang="en">
    <head>
	<meta charset="UTF-8"/>
	<title>Document</title>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
	      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
	      crossorigin=""/>
	<!-- Make sure you put this AFTER Leaflet's CSS -->
	<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
		     integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
		     crossorigin=""></script>

	<style>
	 #mapid {
	     height: 95vh;
	 }
	</style>
	
    </head>
    <body>
	<div id="mapid">

	</div>
    </body>

    <script>
     /* https://www.arcgis.com/home/item.html?id=96ec03e4fc8546bd8a864e39a2c3fc41 */


     var position = {lat: 37.762468,  lon: -122.419019};
     
     var mymap = L.map('mapid').setView([0, 0], 1);

  
     var geojson_url_example = new Request('https://services3.arcgis.com/6rJKAjBRDRSfjCzV/arcgis/rest/services/BNSF_(2018)/FeatureServer/0/query?where=FID+%3E+0&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=pgeojson&token=');

     var gj_url_2 = new Request('https://maps.bts.dot.gov/services/rest/services/NTAD/Railroad_Lines/MapServer/0/query?where=OBJECTID+%3E+0&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&queryByDistance=&returnExtentsOnly=false&datumTransformation=&parameterValues=&rangeValues=&f=pgeojson');
     var geojay =
	 fetch(geojson_url_example)
	     .then((response) => {
		 return response.json()
	     })
	     .then((data) => {
		 return L.geoJson(data).addTo(mymap);
	     });

     var geojay2 =
	 fetch(gj_url_2)
	     .then((response) => {
		 return response.json()
	     })
	     .then((data) => {
		 console.log(L.geoJson(data));
	     });



     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
	 maxZoom: 20,
	 attribution: '&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a>'
     }).addTo(mymap);

     L.control.scale().addTo(mymap);
     L.marker(position).bindPopup('The center of the world').addTo(mymap);

    </script>
</html>
